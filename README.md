# Pikka Web Console

ä¸€å€‹ç¾ä»£åŒ–çš„ç¶²é å…§åµŒå¼æ§åˆ¶å°ç›£æ§å·¥å…·ï¼Œç”¨æ–¼æ””æˆªå’Œå±•ç¤º JavaScript console è¼¸å‡ºã€‚

## ğŸ“‹ å°ˆæ¡ˆæ¦‚è¿°

Pikka Web Console æ˜¯ä¸€å€‹è¼•é‡ç´šçš„ç¶²é æ§åˆ¶å°å·¥å…·ï¼Œèƒ½å¤ å³æ™‚ç›£æ§å’Œå±•ç¤ºç¶²é ä¸­çš„ console è¼¸å‡ºï¼ŒåŒ…æ‹¬ `log`ã€`error`ã€`warn` å’Œ `info` è¨Šæ¯ã€‚å®ƒæä¾›ä¸€å€‹æ¸…æ™°çš„åˆ†é ä»‹é¢ï¼Œæ–¹ä¾¿é–‹ç™¼è€…é€²è¡Œé™¤éŒ¯å’Œæ—¥èªŒåˆ†æã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸ¯ **å³æ™‚ç›£æ§**ï¼šæ””æˆªåŸç”Ÿ console æ–¹æ³•ï¼Œä¸å½±éŸ¿åŸæœ‰åŠŸèƒ½
- ğŸ“Š **åˆ†é¡å±•ç¤º**ï¼šæŒ‰æ—¥èªŒé¡å‹åˆ†é å±•ç¤ºï¼ˆLogã€Errorã€Warnã€Infoã€Allï¼‰
- ğŸ¨ **ç¾è§€ä»‹é¢**ï¼šä½¿ç”¨ TailwindCSS æ§‹å»ºçš„ç¾ä»£åŒ– UI
- ğŸ”§ **å¯åµŒå…¥**ï¼šå¯æ‰“åŒ…ç‚ºåº«ä¸¦åµŒå…¥å…¶ä»–å°ˆæ¡ˆ
- âš¡ **é«˜æ•ˆèƒ½**ï¼šåŸºæ–¼ Vite å’Œ TypeScript æ§‹å»º

## ğŸ—ï¸ å°ˆæ¡ˆæ¶æ§‹

### ç›®éŒ„çµæ§‹

```
Pikka-web-console/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ backend/               # å¾Œç«¯æœå‹™
â”‚   â”‚   â”œâ”€â”€ main.ts           # Hono æœå‹™å™¨ä¸»æª”æ¡ˆ
â”‚   â”‚   â””â”€â”€ processConsole.ts # æ§åˆ¶å°è™•ç†é‚è¼¯
â”‚   â”œâ”€â”€ html/
â”‚   â”‚   â””â”€â”€ console-page.html # æ§åˆ¶å°é é¢æ¨¡æ¿
â”‚   â”œâ”€â”€ console.ts            # æ§åˆ¶å°ç›£æ§æ ¸å¿ƒé‚è¼¯
â”‚   â”œâ”€â”€ main.ts              # å‰ç«¯å…¥å£æª”æ¡ˆ
â”‚   â”œâ”€â”€ style.css            # å…¨åŸŸæ¨£å¼
â”‚   â””â”€â”€ web.ts               # ç¶²é äº’å‹•é‚è¼¯
â”œâ”€â”€ public/                   # éœæ…‹è³‡æº
â”œâ”€â”€ dist/                     # æ‰“åŒ…è¼¸å‡ºç›®éŒ„
â”œâ”€â”€ package.json             # å°ˆæ¡ˆé…ç½®
â”œâ”€â”€ tsconfig.json           # TypeScript é…ç½®
â”œâ”€â”€ vite.config.ts          # Vite æ§‹å»ºé…ç½®
â””â”€â”€ index.html              # HTML å…¥å£æª”æ¡ˆ
```

### æŠ€è¡“æ£§

**å‰ç«¯**
- **TypeScript** - é¡å‹å®‰å…¨çš„ JavaScript
- **Vite** - å¿«é€Ÿçš„å‰ç«¯æ§‹å»ºå·¥å…·
- **TailwindCSS** - å¯¦ç”¨å„ªå…ˆçš„ CSS æ¡†æ¶

**å¾Œç«¯**
- **Hono** - è¼•é‡ç´š Web æ¡†æ¶
- **Node.js** - å¾Œç«¯é‹è¡Œç’°å¢ƒ
- **tsx** - TypeScript åŸ·è¡Œå™¨

**é–‹ç™¼å·¥å…·**
- **pnpm** - é«˜æ•ˆçš„åŒ…ç®¡ç†å™¨
- **concurrently** - ä¸¦è¡ŒåŸ·è¡Œè…³æœ¬
- **nodemon** - å¾Œç«¯è‡ªå‹•é‡å•Ÿå·¥å…·

## ğŸ”§ æ ¸å¿ƒæ¨¡çµ„è©³è§£

### 1. Console ç›£æ§æ¨¡çµ„ (`src/console.ts`)

é€™æ˜¯å°ˆæ¡ˆçš„æ ¸å¿ƒæ¨¡çµ„ï¼Œè² è²¬æ””æˆªå’Œç›£æ§åŸç”Ÿ console æ–¹æ³•ï¼š

**ä¸»è¦åŠŸèƒ½ï¼š**
- æ””æˆª `console.log`ã€`console.error`ã€`console.warn`ã€`console.info`
- å®‰å…¨åºåˆ—åŒ–å„ç¨®æ•¸æ“šé¡å‹
- ç¶­è­·ä¸åŒé¡å‹çš„æ—¥èªŒé›†åˆ
- ä¿æŒåŸç”Ÿ console æ–¹æ³•çš„æ­£å¸¸é‹ä½œ

**é—œéµç‰¹æ€§ï¼š**
```typescript
const safeStringify = (arg: unknown) => {
  try {
    return typeof arg === "string" ? arg : JSON.stringify(arg);
  } catch {
    return "[Unserializable]";
  }
};
```

### 2. Web äº’å‹•æ¨¡çµ„ (`src/web.ts`)

è™•ç†ä½¿ç”¨è€…ä»‹é¢çš„äº’å‹•é‚è¼¯ï¼š

**ä¸»è¦åŠŸèƒ½ï¼š**
- Tab åˆ‡æ›é‚è¼¯
- å‹•æ…‹å…§å®¹æ¸²æŸ“
- é¡è‰²ä¸»é¡Œç®¡ç†
- HTML å…§å®¹å®‰å…¨è™•ç†

**Tab é¡è‰²é…ç½®ï¼š**
```typescript
const TAB_COLOR_MAP = {
  Log: "bg-blue-300",
  Error: "bg-red-300",
  Warn: "bg-yellow-300",
  Info: "bg-green-300",
  All: "bg-gray-300",
};
```

### 3. å¾Œç«¯æœå‹™ (`src/backend/`)

åŸºæ–¼ Hono æ¡†æ¶çš„è¼•é‡ç´šå¾Œç«¯æœå‹™ï¼š

**ç«¯å£é…ç½®ï¼š**
- å‰ç«¯é–‹ç™¼æœå‹™å™¨ï¼š`7770`
- å¾Œç«¯ API æœå‹™å™¨ï¼š`8174`

**API ç«¯é»ï¼š**
- `GET /` - åŸºæœ¬å¥åº·æª¢æŸ¥
- `GET /api/log` - æ—¥èªŒç›¸é—œ API

### 4. æ§‹å»ºé…ç½® (`vite.config.ts`)

å°ˆç‚ºåº«é–‹ç™¼å„ªåŒ–çš„ Vite é…ç½®ï¼š

**é—œéµé…ç½®ï¼š**
- å¤šæ ¼å¼è¼¸å‡ºï¼šESã€UMDã€IIFE
- è‡ªå®šç¾©æª”æ¡ˆå‘½åï¼š`inpage-console.{format}.js`
- CSS è™•ç†ï¼šçµ±ä¸€è¼¸å‡ºç‚º `inpage-console.css`
- ä»£ç†è¨­ç½®ï¼šå‰ç«¯ `/api` è«‹æ±‚ä»£ç†åˆ°å¾Œç«¯

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒè¦æ±‚

- Node.js >= 18
- pnpm >= 9.0.0

### å®‰è£ä¾è³´

```bash
pnpm install
```

### é–‹ç™¼æ¨¡å¼

```bash
# åŒæ™‚å•Ÿå‹•å‰å¾Œç«¯é–‹ç™¼æœå‹™å™¨
pnpm dev

# åƒ…å•Ÿå‹•å‰ç«¯
pnpm dev:frontend

# åƒ…å•Ÿå‹•å¾Œç«¯
pnpm dev:backend
```

### æ§‹å»º

```bash
# å®Œæ•´æ§‹å»º
pnpm build

# åƒ…æ§‹å»ºå‰ç«¯
pnpm build:frontend

# åƒ…æ§‹å»ºå¾Œç«¯
pnpm build:backend
```

### é è¦½

```bash
pnpm preview
```

## ğŸ“¦ æ‰“åŒ…ä½¿ç”¨

å°ˆæ¡ˆæœƒæ‰“åŒ…æˆå¤šç¨®æ ¼å¼ä¾›ä¸åŒå ´æ™¯ä½¿ç”¨ï¼š

- **ES Module**: `dist/inpage-console.es.js`
- **UMD**: `dist/inpage-console.umd.js`
- **IIFE**: `dist/inpage-console.iife.js`
- **æ¨£å¼æª”æ¡ˆ**: `dist/inpage-console.css`

### ä½¿ç”¨æ–¹å¼

```html
<!-- åœ¨ç¶²é ä¸­å¼•å…¥ -->
<link rel="stylesheet" href="dist/inpage-console.css">
<script src="dist/inpage-console.iife.js"></script>
```

æˆ–ä½¿ç”¨ ES Moduleï¼š

```javascript
import 'dist/inpage-console.css';
import { consoleMonitor } from 'dist/inpage-console.es.js';
```

## ğŸ¨ UI è¨­è¨ˆ

### è¨­è¨ˆåŸå‰‡

- **æ·±è‰²ä¸»é¡Œ**ï¼šé©åˆé•·æ™‚é–“é–‹ç™¼ä½¿ç”¨ï¼Œæ¸›å°‘çœ¼éƒ¨ç–²å‹
- **é¡è‰²ç·¨ç¢¼**ï¼šä¸åŒæ—¥èªŒé¡å‹ä½¿ç”¨ä¸åŒé¡è‰²å€åˆ†
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šé©é…å„ç¨®è¢å¹•å°ºå¯¸
- **å¯è®€æ€§å„ªå…ˆ**ï¼šä½¿ç”¨ç­‰å¯¬å­—é«”ï¼Œä¿æŒè¨Šæ¯å°é½Š

### ä¸»é¡Œè‰²å½©

| æ—¥èªŒé¡å‹ | ä¸»è‰²èª¿ | ç”¨é€” |
|---------|--------|------|
| Log | è—è‰² (Blue) | ä¸€èˆ¬æ—¥èªŒè¨Šæ¯ |
| Error | ç´…è‰² (Red) | éŒ¯èª¤è¨Šæ¯ |
| Warn | é»ƒè‰² (Yellow) | è­¦å‘Šè¨Šæ¯ |
| Info | ç¶ è‰² (Green) | è³‡è¨Šè¨Šæ¯ |
| All | ç°è‰² (Gray) | ç¶œåˆæª¢è¦– |

## ğŸ”„ é–‹ç™¼æµç¨‹

### è…³æœ¬å‘½ä»¤

```json
{
  "dev": "åŒæ™‚å•Ÿå‹•å‰å¾Œç«¯é–‹ç™¼æœå‹™å™¨",
  "dev:frontend": "å•Ÿå‹•å‰ç«¯ Vite é–‹ç™¼æœå‹™å™¨",
  "dev:backend": "å•Ÿå‹•å¾Œç«¯ Hono æœå‹™å™¨ï¼ˆè‡ªå‹•é‡å•Ÿï¼‰",
  "build": "å®Œæ•´æ§‹å»ºå°ˆæ¡ˆ",
  "build:frontend": "æ§‹å»ºå‰ç«¯è³‡æº",
  "build:backend": "ç·¨è­¯å¾Œç«¯ TypeScript",
  "preview": "é è¦½æ§‹å»ºçµæœ",
  "start:backend": "å•Ÿå‹•å¾Œç«¯ç”Ÿç”¢æœå‹™å™¨"
}
```

### é–‹ç™¼å»ºè­°

1. **å‰ç«¯é–‹ç™¼**ï¼šä¸»è¦ä¿®æ”¹ `src/` ç›®éŒ„ä¸‹çš„æª”æ¡ˆ
2. **æ¨£å¼èª¿æ•´**ï¼šä½¿ç”¨ TailwindCSS é¡åˆ¥ï¼Œé¿å…è‡ªå®šç¾© CSS
3. **é¡å‹å®‰å…¨**ï¼šå……åˆ†åˆ©ç”¨ TypeScript çš„é¡å‹æª¢æŸ¥
4. **æ¨¡çµ„åŒ–**ï¼šä¿æŒæ¨¡çµ„é–“çš„æ¸…æ™°åˆ†é›¢

## ğŸ› å·²çŸ¥é™åˆ¶

1. **éŒ¯èª¤æ•ç²**ï¼šç›®å‰è¨»è§£äº†éƒ¨åˆ†éŒ¯èª¤æ•ç²é‚è¼¯ï¼ˆwindow.onerror ç­‰ï¼‰
2. **å¾Œç«¯åŠŸèƒ½**ï¼šå¾Œç«¯ç›®å‰åƒ…æä¾›åŸºç¤ APIï¼ŒåŠŸèƒ½æœ‰é™
3. **è¼¸å…¥åŠŸèƒ½**ï¼šHTML æ¨¡æ¿ä¸­çš„ console è¼¸å…¥æ¡†å°šæœªå¯¦ä½œé‚è¼¯

## ğŸ¤ è²¢ç»æŒ‡å—

1. Fork æ­¤å°ˆæ¡ˆ
2. å‰µå»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/AmazingFeature`
3. æäº¤è®Šæ›´ï¼š`git commit -m 'Add some AmazingFeature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/AmazingFeature`
5. é–‹å•Ÿ Pull Request

## ğŸ“„ æˆæ¬Šæ¢æ¬¾

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

## ğŸ‘¥ ä½œè€…

- **wuharry** - åˆå§‹ä½œè€…å’Œç¶­è­·è€…

---

*é€™æ˜¯ä¸€å€‹é–‹æºå°ˆæ¡ˆï¼Œæ­¡è¿ç¤¾ç¾¤è²¢ç»å’Œå›é¥‹ï¼*
