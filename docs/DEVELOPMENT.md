# Pikka Web Console

ä¸€å€‹ç¾ä»£åŒ–çš„ç¶²é å…§åµŒå¼æ§åˆ¶å°ç›£æ§å·¥å…·ï¼Œç”¨æ–¼æ””æˆªå’Œå±•ç¤º JavaScript console è¼¸å‡ºã€‚

## ğŸ“‹ å°ˆæ¡ˆæ¦‚è¿°

Pikka Web Console æ˜¯ä¸€å€‹è¼•é‡ç´šçš„ç¶²é æ§åˆ¶å°å·¥å…·ï¼Œèƒ½å¤ å³æ™‚ç›£æ§å’Œå±•ç¤ºç¶²é ä¸­çš„ console è¼¸å‡ºï¼ŒåŒ…æ‹¬ `log`ã€`error`ã€`warn` å’Œ `info` è¨Šæ¯ã€‚å®ƒæä¾›ä¸€å€‹æ¸…æ™°çš„åˆ†é ä»‹é¢ï¼Œæ–¹ä¾¿é–‹ç™¼è€…é€²è¡Œé™¤éŒ¯å’Œæ—¥èªŒåˆ†æã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸ¯ **å³æ™‚ç›£æ§**ï¼šæ””æˆªåŸç”Ÿ console æ–¹æ³•ï¼Œä¸å½±éŸ¿åŸæœ‰åŠŸèƒ½
- ğŸ“Š **åˆ†é¡å±•ç¤º**ï¼šæŒ‰æ—¥èªŒé¡å‹åˆ†é å±•ç¤ºï¼ˆLogã€Errorã€Warnã€Infoã€Allï¼‰
- ğŸ¨ **ç¾è§€ä»‹é¢**ï¼šä½¿ç”¨ TailwindCSS æ§‹å»ºçš„ç¾ä»£åŒ– UI
- ğŸ”§ **å¯åµŒå…¥**ï¼šå¯æ‰“åŒ…ç‚ºåº«ä¸¦åµŒå…¥å…¶ä»–å°ˆæ¡ˆ
- âš¡ **é«˜æ•ˆèƒ½**ï¼šåŸºæ–¼ Vite å’Œ TypeScript æ§‹å»º
- ğŸ”„ **å®¢æˆ¶ç«¯-æœå‹™å™¨æ¶æ§‹**ï¼šæ”¯æŒæœ¬åœ°å’Œé ç¨‹æ—¥èªŒè™•ç†

## ğŸ—ï¸ å°ˆæ¡ˆæ¶æ§‹

### ç›®éŒ„çµæ§‹

```
Pikka-web-console/
â”œâ”€â”€ .vscode/                            # VS Code é…ç½®
â”‚   â””â”€â”€ settings.json                   # ç·¨è¼¯å™¨è¨­å®š
â”œâ”€â”€ public/                             # éœæ…‹è³‡æºç›®éŒ„
â”œâ”€â”€ src/                                # ä¸»è¦åŸå§‹ç¢¼ç›®éŒ„
â”‚   â”œâ”€â”€ assets/                         # éœæ…‹è³‡æº
â”‚   â”‚   â”œâ”€â”€ styles/                     # å…¨åŸŸæ¨£å¼
â”‚   â”‚   â”‚   â””â”€â”€ app.css                 # ä¸»è¦æ¨£å¼æª”æ¡ˆ
â”‚   â”‚   â””â”€â”€ template/                   # HTML æ¨¡æ¿
â”‚   â”‚       â””â”€â”€ console-page.html       # æ§åˆ¶å°é é¢æ¨¡æ¿
â”‚   â”œâ”€â”€ client/                         # å®¢æˆ¶ç«¯ä»£ç¢¼
â”‚   â”‚   â”œâ”€â”€ app/                        # æ‡‰ç”¨ä¸»é«”
â”‚   â”‚   â”‚   â”œâ”€â”€ app-controller.ts       # æ‡‰ç”¨æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â””â”€â”€ main.ts                 # å®¢æˆ¶ç«¯å…¥å£æª”æ¡ˆ
â”‚   â”‚   â”œâ”€â”€ components/                 # UI çµ„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ console-renderer.ts     # æ§åˆ¶å°æ¸²æŸ“å™¨
â”‚   â”‚   â”‚   â””â”€â”€ index.ts                # çµ„ä»¶å°å‡º
â”‚   â”‚   â”œâ”€â”€ core/                       # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ console-interceptor.ts  # æ§åˆ¶å°æ””æˆªå™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ error-collector.ts      # éŒ¯èª¤æ”¶é›†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ main.ts                 # æ ¸å¿ƒå…¥å£
â”‚   â”‚   â”‚   â””â”€â”€ index.ts                # æ ¸å¿ƒå°å‡º
â”‚   â”‚   â”œâ”€â”€ types/                      # å®¢æˆ¶ç«¯é¡å‹å®šç¾©
â”‚   â”‚   â”‚   â”œâ”€â”€ console-monitor-types.ts # ç›£æ§é¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ index.ts                # é¡å‹å°å‡º
â”‚   â”‚   â””â”€â”€ utils/                      # å·¥å…·å‡½æ•¸
â”‚   â”‚       â”œâ”€â”€ html-utils.ts           # HTML è™•ç†å·¥å…·
â”‚   â”‚       â”œâ”€â”€ tools.ts                # é€šç”¨å·¥å…·å‡½æ•¸
â”‚   â”‚       â””â”€â”€ index.ts                # å·¥å…·å°å‡º
â”‚   â”œâ”€â”€ server/                         # æœå‹™ç«¯ä»£ç¢¼
â”‚   â”‚   â”œâ”€â”€ api/                        # API å¯¦ç¾
â”‚   â”‚   â”‚   â””â”€â”€ main.ts                 # ä¸» API æœå‹™
â”‚   â”‚   â”œâ”€â”€ processConsole.ts           # ä¼ºæœå™¨æ§åˆ¶å°è™•ç†
â”‚   â”‚   â””â”€â”€ types/                      # æœå‹™ç«¯é¡å‹
â”‚   â”‚       â””â”€â”€ index.ts                # é¡å‹å°å‡º
â”‚   â”œâ”€â”€ shared/                         # å…±äº«è³‡æº
â”‚   â”‚   â””â”€â”€ types/                      # å…±äº«é¡å‹å®šç¾©
â”‚   â”‚       â””â”€â”€ console.types.ts        # æ§åˆ¶å°å…±äº«é¡å‹
â”‚   â”œâ”€â”€ main.ts                         # å°ˆæ¡ˆä¸»å…¥å£
â”‚   â”œâ”€â”€ style.css                       # ä¸»æ¨£å¼æª”æ¡ˆ
â”‚   â”œâ”€â”€ typescript.svg                  # TypeScript åœ–æ¨™
â”‚   â””â”€â”€ vite-env.d.ts                   # Vite ç’°å¢ƒé¡å‹å®šç¾©
â”œâ”€â”€ .gitignore                          # Git å¿½ç•¥è¦å‰‡
â”œâ”€â”€ eslint.config.js                    # ESLint é…ç½®
â”œâ”€â”€ index.html                          # HTML å…¥å£
â”œâ”€â”€ LICENSE                             # æˆæ¬Šæ¢æ¬¾
â”œâ”€â”€ package.json                        # å°ˆæ¡ˆé…ç½®èˆ‡ä¾è³´
â”œâ”€â”€ pnpm-lock.yaml                      # pnpm é–å®šæª”æ¡ˆ
â”œâ”€â”€ README.md                           # å°ˆæ¡ˆèªªæ˜æ–‡æª”
â”œâ”€â”€ tailwind.config.js                  # TailwindCSS é…ç½®
â”œâ”€â”€ tsconfig.json                       # TypeScript é…ç½®
â””â”€â”€ vite.config.ts                      # Vite æ§‹å»ºé…ç½®
```

### æŠ€è¡“æ£§

**å‰ç«¯**
- **TypeScript** - é¡å‹å®‰å…¨çš„ JavaScript
- **Vite** - å¿«é€Ÿçš„å‰ç«¯æ§‹å»ºå·¥å…·
- **TailwindCSS** - å¯¦ç”¨å„ªå…ˆçš„ CSS æ¡†æ¶

**é–‹ç™¼å·¥å…·**
- **pnpm** - é«˜æ•ˆçš„åŒ…ç®¡ç†å™¨
- **concurrently** - ä¸¦è¡ŒåŸ·è¡Œè…³æœ¬
- **nodemon** - å¾Œç«¯è‡ªå‹•é‡å•Ÿå·¥å…·
- **ESLint/Prettier** - ä»£ç¢¼å“è³ªèˆ‡æ ¼å¼åŒ–å·¥å…·

## ğŸ—ï¸ æ‡‰ç”¨æ¶æ§‹ä¾è³´é—œä¿‚

```
src/main.ts                    â† ğŸš€ çœŸæ­£çš„ç¨‹å¼å…¥å£
    â†“
src/client/app/main.ts         â† ğŸ“¦ å®¢æˆ¶ç«¯æ¨¡çµ„å…¥å£
    â†“
src/client/app/app-controller.ts â† ğŸ® æ‡‰ç”¨æ§åˆ¶å™¨
    â†“
src/client/components/main.ts   â† ğŸ¨ UI å±¤
    â†“
src/client/core/main.ts        â† âš™ï¸ æ ¸å¿ƒæœå‹™å±¤
```

### ä¾è³´é—œä¿‚èªªæ˜

**Entry Point Layer** â†’ **Client App Layer** â†’ **Application Layer** â†’ **Presentation Layer** â†’ **Service Layer**

- **Entry Point**: å¥—ä»¶ä¸»è¦å…¥å£ï¼Œè² è²¬æ¨¡çµ„è¼‰å…¥
- **Client App**: å®¢æˆ¶ç«¯å…¥å£ï¼Œè™•ç†ç’°å¢ƒæª¢æ¸¬å’Œæ‡‰ç”¨å•Ÿå‹•
- **Application**: æ‡‰ç”¨æ§åˆ¶å™¨ï¼Œå”èª¿å„å±¤ç´šå’Œç”Ÿå‘½é€±æœŸç®¡ç†
- **Presentation**: UI æ§åˆ¶å™¨ï¼Œç®¡ç†ä½¿ç”¨è€…ä»‹é¢æ¸²æŸ“å’Œäº’å‹•
- **Service**: æ ¸å¿ƒæœå‹™ï¼Œæä¾› console æ””æˆªå’ŒéŒ¯èª¤æ”¶é›†åŠŸèƒ½

### 6. ä¸»æ‡‰ç”¨å…¥å£ (`src/client/app/main.ts`)

ä¸»æ‡‰ç”¨å…¥å£è² è²¬æ‡‰ç”¨çš„å•Ÿå‹•å’ŒåŸºæœ¬ç’°å¢ƒæª¢æ¸¬ï¼š

**ç•¶å‰åŠŸèƒ½ï¼š**
- **DOM åˆå§‹åŒ–**ï¼š`initializeDOM()` å‡½æ•¸è² è²¬æ›è¼‰ HTML æ¨¡æ¿åˆ°æŒ‡å®šå®¹å™¨
- **ç’°å¢ƒæª¢æ¸¬**ï¼šæª¢æ¸¬æ˜¯å¦åœ¨ç€è¦½å™¨ç’°å¢ƒä¸­é‹è¡Œï¼Œé¿å… SSR ç’°å¢ƒå•é¡Œ
- **å•Ÿå‹•æµç¨‹ç®¡ç†**ï¼š`bootsStartUp()` çµ±ä¸€ç®¡ç†å•Ÿå‹•é †åº
- **é–‹ç™¼æ¨¡å¼æ”¯æ´**ï¼šåœ¨é–‹ç™¼ç’°å¢ƒä¸‹æä¾›é¡å¤–çš„æ—¥èªŒå’Œæ¸¬è©¦åŠŸèƒ½
- **DOM å°±ç·’æª¢æ¸¬**ï¼šæ™ºèƒ½æª¢æ¸¬ DOM è¼‰å…¥ç‹€æ…‹ï¼Œé©æ™‚å•Ÿå‹•æ‡‰ç”¨

**é‡æ§‹å»ºè­°ï¼š**
å°‡éƒ¨åˆ†é‚è¼¯ç§»å…¥ `app-controller.ts`ï¼Œä½¿ `main.ts` æ›´å°ˆæ³¨æ–¼:
- ç’°å¢ƒæª¢æ¸¬å’Œç›¸å®¹æ€§è™•ç†
- æ‡‰ç”¨æ§åˆ¶å™¨çš„å¯¦ä¾‹åŒ–å’Œå•Ÿå‹•
- å…¨åŸŸè®Šæ•¸çš„è¨»å†Šï¼ˆå¦‚ `window.consoleApp`ï¼‰

**ç«¯å£é…ç½®ï¼š**
- å‰ç«¯é–‹ç™¼æœå‹™å™¨ï¼š`7770`
- å¾Œç«¯ API æœå‹™å™¨ï¼š`8174`

### 7. æ§‹å»ºé…ç½® (`vite.config.ts`)

å°ˆç‚ºåº«é–‹ç™¼å„ªåŒ–çš„ Vite é…ç½®ï¼š

**é—œéµé…ç½®ï¼š**
- å¤šæ ¼å¼è¼¸å‡ºï¼šESã€UMDã€IIFE
- è‡ªå®šç¾©æª”æ¡ˆå‘½åï¼š`inpage-console.{format}.js`
- CSS è™•ç†ï¼šçµ±ä¸€è¼¸å‡ºç‚º `inpage-console.css`
- ä»£ç†è¨­ç½®ï¼šå‰ç«¯ `/api` è«‹æ±‚ä»£ç†åˆ°å¾Œç«¯
- è·¯å¾‘åˆ¥åï¼š`@client`ã€`@server`ã€`@types` ç­‰

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒè¦æ±‚

- Node.js >= 18
- pnpm >= 9.0.0

### å®‰è£ä¾è³´

```bash
pnpm install
```

### é–‹ç™¼æ¨¡å¼

```bash
# åŒæ™‚å•Ÿå‹•å‰å¾Œç«¯é–‹ç™¼æœå‹™å™¨
pnpm dev

# åƒ…å•Ÿå‹•å‰ç«¯
pnpm dev:frontend

# åƒ…å•Ÿå‹•å¾Œç«¯
pnpm dev:backend
```

### æ§‹å»º

```bash
# å®Œæ•´æ§‹å»º
pnpm build

# åƒ…æ§‹å»ºå‰ç«¯åº«
pnpm build:lib

# åƒ…æ§‹å»ºæœå‹™å™¨
pnpm build:server
```

### é è¦½

```bash
pnpm preview
```

## ğŸ“¦ æ‰“åŒ…ä½¿ç”¨

å°ˆæ¡ˆæœƒæ‰“åŒ…æˆå¤šç¨®æ ¼å¼ä¾›ä¸åŒå ´æ™¯ä½¿ç”¨ï¼š

- **ES Module**: `dist/inpage-console.es.js`
- **UMD**: `dist/inpage-console.umd.js`
- **IIFE**: `dist/inpage-console.iife.js`
- **æ¨£å¼æª”æ¡ˆ**: `dist/inpage-console.css`

### ä½¿ç”¨æ–¹å¼

```html
<!-- åœ¨ç¶²é ä¸­å¼•å…¥ -->
<link rel="stylesheet" href="dist/inpage-console.css">
<script src="dist/inpage-console.iife.js"></script>
```

æˆ–ä½¿ç”¨ ES Moduleï¼š

```javascript
import 'pikka-web-console/dist/inpage-console.css';
import { consoleMonitor } from 'pikka-web-console';
```

## ğŸ¨ UI è¨­è¨ˆ

### è¨­è¨ˆåŸå‰‡

- **æ·±è‰²ä¸»é¡Œ**ï¼šé©åˆé•·æ™‚é–“é–‹ç™¼ä½¿ç”¨ï¼Œæ¸›å°‘çœ¼éƒ¨ç–²å‹
- **é¡è‰²ç·¨ç¢¼**ï¼šä¸åŒæ—¥èªŒé¡å‹ä½¿ç”¨ä¸åŒé¡è‰²å€åˆ†
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šé©é…å„ç¨®è¢å¹•å°ºå¯¸
- **å¯è®€æ€§å„ªå…ˆ**ï¼šä½¿ç”¨ç­‰å¯¬å­—é«”ï¼Œä¿æŒè¨Šæ¯å°é½Š

### ä¸»é¡Œè‰²å½©

| æ—¥èªŒé¡å‹ | ä¸»è‰²èª¿ | ç”¨é€” |
|---------|--------|------|
| Log | è—è‰² (Blue) | ä¸€èˆ¬æ—¥èªŒè¨Šæ¯ |
| Error | ç´…è‰² (Red) | éŒ¯èª¤è¨Šæ¯ |
| Warn | é»ƒè‰² (Yellow) | è­¦å‘Šè¨Šæ¯ |
| Info | ç¶ è‰² (Green) | è³‡è¨Šè¨Šæ¯ |
| All | ç°è‰² (Gray) | ç¶œåˆæª¢è¦– |

## ğŸ”„ é–‹ç™¼æµç¨‹

### è…³æœ¬å‘½ä»¤

```json
{
  "dev": "åŒæ™‚å•Ÿå‹•å‰å¾Œç«¯é–‹ç™¼æœå‹™å™¨",
  "dev:frontend": "å•Ÿå‹•å‰ç«¯ Vite é–‹ç™¼æœå‹™å™¨",
  "dev:backend": "å•Ÿå‹•å¾Œç«¯ Hono æœå‹™å™¨ï¼ˆè‡ªå‹•é‡å•Ÿï¼‰",
  "build": "å®Œæ•´æ§‹å»ºå°ˆæ¡ˆ",
  "build:lib": "æ§‹å»ºå‰ç«¯åº«",
  "build:server": "ç·¨è­¯å¾Œç«¯ TypeScript",
  "preview": "é è¦½æ§‹å»ºçµæœ",
  "start:backend": "å•Ÿå‹•å¾Œç«¯ç”Ÿç”¢æœå‹™å™¨"
}
```

### é–‹ç™¼å»ºè­°

1. **å‰ç«¯é–‹ç™¼**ï¼šä¸»è¦ä¿®æ”¹ `src/client/` ç›®éŒ„ä¸‹çš„æª”æ¡ˆ
2. **æ¨£å¼èª¿æ•´**ï¼šä½¿ç”¨ TailwindCSS é¡åˆ¥ï¼Œé¿å…è‡ªå®šç¾© CSS
3. **é¡å‹å®‰å…¨**ï¼šå……åˆ†åˆ©ç”¨ TypeScript çš„é¡å‹æª¢æŸ¥
4. **æ¨¡çµ„åŒ–**ï¼šä¿æŒæ¨¡çµ„é–“çš„æ¸…æ™°åˆ†é›¢

## ğŸ› å·²çŸ¥é™åˆ¶

1. **éŒ¯èª¤æ•ç²**ï¼šéƒ¨åˆ†éŒ¯èª¤æ•ç²é‚è¼¯ï¼ˆwindow.onerror ç­‰ï¼‰æ­£åœ¨å®Œå–„
2. **è¼¸å…¥åŠŸèƒ½**ï¼šHTML æ¨¡æ¿ä¸­çš„ console è¼¸å…¥æ¡†åŠŸèƒ½å¯¦ç¾ä¸­

## ğŸ¤ è²¢ç»æŒ‡å—

1. Fork æ­¤å°ˆæ¡ˆ
2. å‰µå»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/AmazingFeature`
3. æäº¤è®Šæ›´ï¼š`git commit -m 'Add some AmazingFeature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/AmazingFeature`
5. é–‹å•Ÿ Pull Request

## ğŸ“„ æˆæ¬Šæ¢æ¬¾

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

## ğŸ‘¥ ä½œè€…

- **wuharry** - åˆå§‹ä½œè€…å’Œç¶­è­·è€…

---

*é€™æ˜¯ä¸€å€‹é–‹æºå°ˆæ¡ˆï¼Œæ­¡è¿ç¤¾ç¾¤è²¢ç»å’Œå›é¥‹ï¼*
